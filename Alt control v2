
local Settings = getgenv().AltControlSettings

if not game:IsLoaded() then
    game.Loaded:wait()
end

getgenv().Host = nil
if game.Players:FindFirstChild(Settings['Host']) then
    getgenv().Host = game.Players:FindFirstChild(Settings['Host'])
end
function Say(message)
    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(message, 'All')
end
if game.Players.LocalPlayer.Name ~= Settings['Host'] then
    Say('Alt find')
else
    Say('Host find')
end
local Prefix = Settings['Prefix']

local lPlayer = game.Players.LocalPlayer
local lCharacter = lPlayer.Character
lPlayer.CharacterAdded:Connect(function(Character)
    lCharacter = Character
end)

function Teleport(Position)
    game:GetService('TweenService'):Create(game.Players.LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(0.3), {CFrame = Position}):Play()
end
function Anchored(state)
    lCharacter.HumanoidRootPart.Anchored = state
end
function Drop(amonut)
    game:GetService("ReplicatedStorage").MainEvent:FireServer('DropMoney', ''..amonut..'')
end
function Block(status)
    local Target = game:GetService("ReplicatedStorage").MainEvent;
    Target:FireServer("Block", status)
end
function Wallet(status)
    if status == true then
        game.Players.LocalPlayer.Backpack:FindFirstChild("Wallet").Parent = game.Players.LocalPlayer.Character
    elseif status == false then
        game.Players.LocalPlayer.Character:FindFirstChild("Wallet").Parent = game.Players.LocalPlayer.Backpack
    end
end

function Alt(Numero, Distancia, Altura)
    if game.Players.LocalPlayer.UserId == Settings['Alt'..Numero] then
        if getgenv().Host ~= nil then
            getgenv().Host.Chatted:Connect(function(message)
                if getgenv().Host ~= game.Players.LocalPlayer then
                    args = message:split(' ')
                    argsSay = message:split(':')
                    if argsSay[1] == Settings['Prefix'] .. 'say' then
                        Say(argsSay[2])
                    end

                    -- Setup
                    local DistanciaPrincipal = Distancia
                    local AlturaPrincipal = Altura
                    if args[1] == Prefix .. 'setup' then
                        if args[2] == 'true' then
                            Anchored(false)
                            wait(1)
                            Teleport(CFrame.new(getgenv().Host.Character.HumanoidRootPart.Position + Vector3.new(DistanciaPrincipal, 0, 0)))
                            wait(1)
                            Teleport(CFrame.new(getgenv().Host.Character.HumanoidRootPart.Position + Vector3.new(DistanciaPrincipal, AlturaPrincipal, 0)))
                            wait(0.3)
                            Anchored(true)
                        elseif args[2] == 'false' then
                            Anchored(false)
                        end
                    end

                    -- Chat
                    if args[1] == Settings['Prefix'] .. 'chat' then
                        Say(Settings['Chat'])
                    end

                    -- Bring alts
                    if args[1] == Settings['Prefix'] .. 'bring' then
                        Anchored(false)
                        wait(1)
                        Teleport(CFrame.new(getgenv().Host.Character.HumanoidRootPart.Position + Vector3.new(DistanciaPrincipal, 0, 0)))
                    end

                    -- Drop
                    if args[1] == Settings['Prefix'] .. 'drop' then
                        getgenv().Drop = true
                        Block(true)
                        Wallet(true)
                        spawn(function()
                            while getgenv().Drop == true do
                                Drop(10000)
                                wait()
                            end
                        end)
                    end

                    -- Stop
                    if args[1] == Settings['Prefix'] .. 'stop' then
                        getgenv().Drop = false
                        Block(false)
                        Wallet(false)
                    end

                    -- Airlock
                    if args[1] == Settings['Prefix'] .. 'airlock' then
                        if args[2] == 'true' then
                            Anchored(false)
                            wait(1)
                            Teleport(CFrame.new(lCharacter.HumanoidRootPart.Position + Vector3.new(0, AlturaPrincipal, 0)))
                            wait(0.3)
                            Anchored(false)
                        elseif args[2] == 'false' then
                            Anchored(false)
                        end
                    end

                    -- Hide
                    if args[1] == Settings['Prefix'] .. 'hide' then
                        Teleport(CFrame.new(0, 100, 0))
                    end
                end
            end)
        end
    end
end



function Restart()
    if game.Players.LocalPlayer.Name ~= Settings['Host'] then
        --Alt 1
        Alt('1', 2, 5)
        --Alt 2
        Alt('2', 4, 5)
        --Alt 3
        Alt('3', 6, 5)
        --Alt 4
        Alt('4', 8, 5)
        --Alt 5
        Alt('5', 10, 5)
        --Alt 6
        Alt('6', 12, 5)
        --Alt 7
        Alt('7', 14, 5)
        --Alt 8
        Alt('8', 16, 5)
        --Alt 9
        Alt('9', 18, 5)
        --Alt 10
        Alt('10', 20, 5)
        --ALt 11
        Alt('11', 2, 10)
        --Alt 12
        Alt('12', 4, 10)
        --Alt 13
        Alt('13', 6, 10)
        --Alt 14
        Alt('14', 8, 10)
        --Alt 15
        Alt('15', 10, 10)
        --Alt 16
        Alt('16', 12, 10)
        --Alt 17
        Alt('17', 14, 10)
        --Alt 18
        Alt('18', 16, 10)
        --Alt 19
        Alt('19', 18, 10)
        --Alt 20
        Alt('20', 20, 10)
    end
end

Restart()
game.Players.ChildAdded:Connect(function(Player)
    if Player.Name == Settings['Host'] then
        getgenv().Host = Player
        Restart()
    end
end)
