
repeat wait() until game:IsLoaded()

-- Waiting for game is loaded!


function Drop(amonut)
    game:GetService("ReplicatedStorage").MainEvent:FireServer('DropMoney', ''..amonut..'')
end

function FindPlayer(name, callback)
    local callback = callback or function()end
    for i,v in pairs(game.Players:GetChildren()) do
        if string.find(v.Name, name) or string.find(v.DisplayName, name) then
            pcall(callback, v)
        end
    end
end

function Block(status)
    local Target = game:GetService("ReplicatedStorage").MainEvent;
    Target:FireServer("Block", status)
end

function Wallet(status)
    if status == true then
        game.Players.LocalPlayer.Backpack:FindFirstChild("Wallet").Parent = game.Players.LocalPlayer.Character
    elseif status == false then
        game.Players.LocalPlayer.Character:FindFirstChild("Wallet").Parent = game.Players.LocalPlayer.Backpack
    end
end


function Teleport(CFrame2)
    local TweenService = game:GetService("TweenService")
    local Player = game.Players.LocalPlayer
    
    TweenService:Create(Player.Character.HumanoidRootPart, TweenInfo.new(0.3, Enum.EasingStyle.Linear), {CFrame = CFrame2}):Play()
end
function Teleport2(CFrame3)
    local Player = game.Players.LocalPlayer

    Player.Character.HumanoidRootPart.CFrame = CFrame3
end

function Say(message)
    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(message, "All")
end

function ExecCmd(cmd, prefix)
    local args = cmd:split(' ')
    local HostPlayer = getgenv().HostOnline
    local HostCharacter = HostPlayer.Character
    if args[1] == prefix .. 'warp' then
        if args[2] == 'line' then
            if game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored == true then
                game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
                wait(1)
            end
            local randomnumber = math.random(0, 10)
            local pos = CFrame.new(HostCharacter.HumanoidRootPart.Position + Vector3.new(randomnumber, 5, 0))
            Teleport(CFrame.new(HostCharacter.HumanoidRootPart.Position + Vector3.new(randomnumber, 0, 0)))
            wait(1)
            getgenv().Line = game:GetService("RunService").Heartbeat:Connect(function()
                Teleport2(pos)
            end)
            wait(1)
            game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = true
            wait()
            getgenv().Line:Disconnect()
        end

        if args[2] == 'disconnect' then
            if game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored == true then
                game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
                getgenv().Line:Disconnect()
            else
                Say('Error, warp already disconnect')
            end
        end
        
        if args[2] == 'hide' then
            if game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored == true then
                game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
                wait(1)
            end
            local randomnumber = math.random(0, 10)
            local pos = CFrame.new(HostCharacter.HumanoidRootPart.Position + Vector3.new(randomnumber, -6.2, 0))
            Teleport(CFrame.new(HostCharacter.HumanoidRootPart.Position + Vector3.new(randomnumber, 0, 0)))
            wait(1)
            getgenv().Line = game:GetService("RunService").Heartbeat:Connect(function()
                Teleport2(pos)
            end)
            wait(1)
            game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = true
            wait()
            getgenv().Line:Disconnect()
        end
    end
    if args[1] == prefix .. 'refresh' then
        game.Players.LocalPlayer.Character["HumanoidRootPart"]:Destroy() game.Players.LocalPlayer.Character["RightHand"]:Destroy() game.Players.LocalPlayer.Character["LeftLowerArm"]:Destroy() game.Players.LocalPlayer.Character["RightLowerArm"]:Destroy() game.Players.LocalPlayer.Character["LeftUpperArm"]:Destroy() game.Players.LocalPlayer.Character["RightUpperArm"]:Destroy() game.Players.LocalPlayer.Character["LowerTorso"]:Destroy() game.Players.LocalPlayer.Character["LeftLowerLeg"]:Destroy() game.Players.LocalPlayer.Character["LeftUpperLeg"]:Destroy() game.Players.LocalPlayer.Character["LeftFoot"]:Destroy() game.Players.LocalPlayer.Character["RightFoot"]:Destroy() game.Players.LocalPlayer.Character["RightLowerLeg"]:Destroy() game.Players.LocalPlayer.Character["RightUpperLeg"]:Destroy() game.Players.LocalPlayer.Character["UpperTorso"]:Destroy() game.Players.LocalPlayer.Character["LeftHand"]:Destroy() game.Players.LocalPlayer.Character["Head"]:Destroy()         
    end
    if args[1] == prefix .. 'fps' then
        setfpscap(args[2])
        Say('fps cap set to: '..args[2])
    end
    if args[1] == prefix .. 'drop' then
        Say('Start dropping')
        getgenv().AutoDroping = game:GetService("RunService").Heartbeat:Connect(function()
            if game.Players.LocalPlayer.DataFolder.Currency.Value > 10000 then
                Drop(10000)
            else
                Drop(game.Players.LocalPlayer.DataFolder.Currency.Value)
            end
            Block(true)
            Wallet(true)
        end)
    end
    if args[1] == prefix .. 'stop' then
        getgenv().AutoDroping:Disconnect()
        Block(false)
        Wallet(false)
        Say('Stop dropping')
    end
    if args[1] == prefix .. 'bring' then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(HostCharacter.HumanoidRootPart.Position + Vector3.new(5, 0, 0))
    end
    if args[1] == prefix .. 'hide' then
        Teleport(CFrame.new(0, 90, 0))
    end
    if args[1] == prefix .. 'lowgfx' then
        workspace:FindFirstChildOfClass('Terrain').WaterWaveSize = 0 workspace:FindFirstChildOfClass('Terrain').WaterWaveSpeed = 0 workspace:FindFirstChildOfClass('Terrain').WaterReflectance = 0 workspace:FindFirstChildOfClass('Terrain').WaterTransparency = 0 game:GetService("Lighting").GlobalShadows = false game:GetService("Lighting").FogEnd = 9e9 settings().Rendering.QualityLevel = 1 for i,v in pairs(game:GetDescendants()) do if v:IsA("Part") or v:IsA("UnionOperation") or v:IsA("MeshPart") or v:IsA("CornerWedgePart") or v:IsA("TrussPart") then v.Material = "Plastic" v.Reflectance = 0 elseif v:IsA("Decal") then v.Transparency = 1 elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then v.Lifetime = NumberRange.new(0) elseif v:IsA("Explosion") then v.BlastPressure = 1 v.BlastRadius = 1 end end for i,v in pairs(game:GetService("Lighting"):GetDescendants()) do if v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") or v:IsA("DepthOfFieldEffect") then v.Enabled = false end end workspace.DescendantAdded:Connect(function(child) coroutine.wrap(function() if child:IsA('ForceField') then game:GetService('RunService').Heartbeat:Wait() child:Destroy() elseif child:IsA('Sparkles') then game:GetService('RunService').Heartbeat:Wait() child:Destroy() elseif child:IsA('Smoke') or child:IsA('Fire') then game:GetService('RunService').Heartbeat:Wait() child:Destroy() end end)() end)
    end
    if args[1] == prefix .. 'sphere' then
        FindPlayer(args[2], function(playerr)
            if game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored == true then
                game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
                wait(1)
            end
            local randomnumber = math.random(0, 10)
            local pos = CFrame.new(playerr.Character.HumanoidRootPart.Position + Vector3.new(randomnumber, 5, randomnumber))
            Teleport(CFrame.new(playerr.Character.HumanoidRootPart.Position + Vector3.new(randomnumber, 0, randomnumber)))
            wait(1)
            getgenv().Line = game:GetService("RunService").Heartbeat:Connect(function()
                Teleport2(pos)
            end)
            wait(1)
            game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = true
            wait()
            getgenv().Line:Disconnect()
        end)
    end
end

function AltControl()
    if getgenv().HostOnline ~= nil then
        if getgenv().HostOnline ~= game.Players.LocalPlayer then
            setfpscap(getgenv().Settings["Fps"])
            getgenv().HostOnline.Chatted:Connect(function(message)
                message = string.lower(message)

                ExecCmd(message, getgenv().Settings["Prefix"])
            end)
        end
    end
end


getgenv().HostOnline = nil
if game.Players:FindFirstChild(getgenv().Settings["Host"]) then
    getgenv().HostOnline = game.Players:FindFirstChild(getgenv().Settings["Host"])
end

wait(.1)

AltControl()
game:GetService("Players").PlayerAdded:Connect(function(player)
    if player.Name == getgenv().Settings["Host"] then
        getgenv().HostOnline = player
        AltControl()
    end
end)
