local OLDUI = game.CoreGui:FindFirstChild("Ui library")

if OLDUI then
	OLDUI:Destroy()
end

local library = {}

function library:CreateWindow(text)
	local Uilibrary = Instance.new("ScreenGui")
	local Main = Instance.new("Frame")
	local UICorner = Instance.new("UICorner")
	local TextLabel = Instance.new("TextLabel")
	local ScrollingFrame = Instance.new("ScrollingFrame")
	local UICorner_2 = Instance.new("UICorner")
	local UIGridLayout = Instance.new("UIGridLayout")
	local OpenTabs = Instance.new("ImageButton")
	local Container2 = Instance.new("Folder")

	--Properties:

	Uilibrary.Name = "Ui library"
	Uilibrary.Parent = game:GetService('CoreGui')
	Uilibrary.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	Main.Name = "Main"
	Main.Parent = Uilibrary
	Main.BackgroundColor3 = Color3.fromRGB(27, 27, 27)
	Main.BorderSizePixel = 0
	Main.ClipsDescendants = true
	Main.Position = UDim2.new(0.0657534227, 0, 0.108559497, 0)
	Main.Size = UDim2.new(0, 352, 0, 337)

	UICorner.CornerRadius = UDim.new(0, 5)
	UICorner.Parent = Main

	TextLabel.Parent = Main
	TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	TextLabel.BackgroundTransparency = 1.000
	TextLabel.Size = UDim2.new(0, 352, 0, 25)
	TextLabel.Font = Enum.Font.SourceSansBold
	TextLabel.Text = text
	TextLabel.TextColor3 = Color3.fromRGB(73, 143, 235)
	TextLabel.TextScaled = true
	TextLabel.TextSize = 45.000
	TextLabel.TextWrapped = true

	ScrollingFrame.Parent = Main
	ScrollingFrame.Active = true
	ScrollingFrame.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
	ScrollingFrame.BorderColor3 = Color3.fromRGB(255, 255, 255)
	ScrollingFrame.BorderSizePixel = 0
	ScrollingFrame.Position = UDim2.new(0, 0, 0.0741839781, 0)
	ScrollingFrame.Size = UDim2.new(0, 104, 0, 312)

	UICorner_2.Parent = ScrollingFrame

	UIGridLayout.Parent = ScrollingFrame
	UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
	UIGridLayout.CellSize = UDim2.new(0, 91, 0, 17)

	OpenTabs.Name = "OpenTabs"
	OpenTabs.Parent = Main
	OpenTabs.BackgroundTransparency = 1.000
	OpenTabs.Position = UDim2.new(-0.00242839009, 0, -0.00227662176, 0)
	OpenTabs.Size = UDim2.new(0, 25, 0, 25)
	OpenTabs.ZIndex = 2
	OpenTabs.Image = "rbxassetid://3926305904"
	OpenTabs.ImageRectOffset = Vector2.new(464, 4)
	OpenTabs.ImageRectSize = Vector2.new(36, 36)

	Container2.Name = "Container2"
	Container2.Parent = Main

	-- Scripts:

	local function ISRGRR_fake_script() -- Main.TogleUi 
		local script = Instance.new('LocalScript', Main)

		local Enabled = true

		local menu = script.Parent

		menu.Active = true
		menu.Draggable = true
		game.Players.LocalPlayer:GetMouse().KeyDown:Connect(function(KeyPressed)
			if KeyPressed == 'v' then
				Enabled = not Enabled
				if Enabled == false then
					script.Parent:TweenSize(UDim2.new(0, 352,0, 0), 'Out', 'Quart', 0.3, true)
				elseif Enabled == true then
					script.Parent:TweenSize(UDim2.new(0, 352,0, 337), 'Out', 'Quart', 0.3, true)
				end
			end
		end)

		local TabsEnabled = true
		script.Parent.OpenTabs.MouseButton1Click:Connect(function()
			TabsEnabled = not TabsEnabled
			if TabsEnabled == false then
				script.Parent.ScrollingFrame:TweenSize(UDim2.new(0, 0,0, 312), 'Out', 'Quart', 0.3, true)
			else
				script.Parent.ScrollingFrame:TweenSize(UDim2.new(0, 104,0, 312), 'Out', 'Quart', 0.3, true)
			end
		end)

		delay(1, function()
			for i,v in pairs(script.Parent.Parent.Main:GetDescendants()) do
				if v:IsA('TextButton') or v:IsA('ImageButton') then
					v.MouseButton1Click:Connect(function()
						local sound = Instance.new('Sound', workspace)
						sound.SoundId = 'rbxassetid://6706935653'
						sound:Play()
						sound.Ended:wait()
						sound:Destroy()
					end)
				elseif v:IsA('ScrollingFrame') then
					
				end
			end
		end)
	end
	coroutine.wrap(ISRGRR_fake_script)()
	
	
	local EpicLibrary = {}
	
	function EpicLibrary:CreateTab(text)
		local Tab = Instance.new("ScrollingFrame")
		local ButtonToSelectTab = Instance.new("TextButton")
		local UICorner = Instance.new("UICorner")
		local UIGridLayout = Instance.new("UIGridLayout")
		
		
		
		UIGridLayout.Parent = Tab
		UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
		UIGridLayout.CellSize = UDim2.new(0, 234, 0, 15)

		Tab.Name = "Tab"
		Tab.Parent = Container2
		Tab.Active = true
		Tab.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Tab.BackgroundTransparency = 1.000
		Tab.BorderColor3 = Color3.fromRGB(255, 255, 255)
		Tab.BorderSizePixel = 0
		Tab.Position = UDim2.new(0.295454532, 0, 0.0741839781, 0)
		Tab.Size = UDim2.new(0, 248, 0, 312)
		Tab.Visible = false
		Tab.Name = text..' Container'
		Tab.AutomaticCanvasSize = Enum.AutomaticSize.Y
		
		
		ButtonToSelectTab.Name = "ButtonToSelectTab"
		ButtonToSelectTab.Parent = ScrollingFrame
		ButtonToSelectTab.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
		ButtonToSelectTab.Size = UDim2.new(0, 91, 0, 17)
		ButtonToSelectTab.Font = Enum.Font.SourceSans
		ButtonToSelectTab.TextColor3 = Color3.fromRGB(235, 235, 235)
		ButtonToSelectTab.TextSize = 14.000
		ButtonToSelectTab.Text = text
		ButtonToSelectTab.MouseButton1Click:Connect(function()
			for i,v in next, Container2:GetChildren() do
				v.Visible = false
			end
			Tab.Visible = true
		end)

		UICorner.CornerRadius = UDim.new(0, 5)
		UICorner.Parent = ButtonToSelectTab
		
		local ButtonsONTab = {}
		
		function ButtonsONTab:CreateTextBox(text, callback)
			local Config = Instance.new("TextBox")
			local UICorner = Instance.new("UICorner")

			Config.Name = "Config"
			Config.Parent = Tab
			Config.BackgroundColor3 = Color3.fromRGB(61, 61, 61)
			Config.BorderSizePixel = 0
			Config.Size = UDim2.new(0, 234, 0, 15)
			Config.Font = Enum.Font.SourceSansBold
			Config.Text = text
			Config.TextColor3 = Color3.fromRGB(88, 139, 220)
			Config.TextSize = 14.000
			Config.FocusLost:Connect(function(a)
				if a then
					pcall(callback, Config.Text)
					wait()
					Config.Text = text
				end
			end)

			UICorner.CornerRadius = UDim.new(0, 4)
			UICorner.Parent = Config
		end
		function ButtonsONTab:CreateButton(text, callback)
			local CustomButton = Instance.new("TextButton")
			local UICorner = Instance.new("UICorner")

			local callback = callback or function()end
			CustomButton.Name = "CustomButton"
			CustomButton.Parent = Tab
			CustomButton.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
			CustomButton.BorderSizePixel = 0
			CustomButton.Size = UDim2.new(0, 234, 0, 15)
			CustomButton.Text = text
			CustomButton.Font = Enum.Font.SourceSansBold
			CustomButton.TextColor3 = Color3.fromRGB(88, 139, 220)
			CustomButton.TextSize = 14.000
			CustomButton.MouseButton1Click:Connect(function()
				pcall(callback)
			end)
			UICorner.CornerRadius = UDim.new(0, 4)
			UICorner.Parent = CustomButton
		end
		function ButtonsONTab:CreateToggle(text, callback)
			local CustomToggle = Instance.new("TextButton")
			local UICorner = Instance.new("UICorner")
			local CustomToggleBackground = Instance.new("TextLabel")
			local UICorner_2 = Instance.new("UICorner")


			CustomToggle.Name = text..' TOGGLE'
			CustomToggle.Parent = Tab
			CustomToggle.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
			CustomToggle.BorderSizePixel = 0
			CustomToggle.Size = UDim2.new(0, 234, 0, 15)
			CustomToggle.Font = Enum.Font.SourceSansBold
			CustomToggle.Text = text
			CustomToggle.TextColor3 = Color3.fromRGB(88, 139, 220)
			CustomToggle.TextSize = 14.000
			local Enabled = false
			local function fire()
				Enabled = not Enabled
			end
			CustomToggle.MouseButton1Click:Connect(function()
				fire()
				if Enabled == true then
					for i,v in pairs(Tab:GetChildren()) do
						if string.find(v.Name, CustomToggle.Text) then
							game:GetService('TweenService'):Create(CustomToggleBackground, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(0, 255, 0)}):Play()
						end
					end
				elseif Enabled == false then
					for i,v in pairs(Tab:GetChildren()) do
						if string.find(v.Name, text) then
							game:GetService('TweenService'):Create(CustomToggleBackground, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(255, 0, 0)}):Play()
						end
					end
				end
				wait(.1)
				pcall(callback, Enabled)
				
			end)
			UICorner.CornerRadius = UDim.new(0, 4)
			UICorner.Parent = CustomToggle

			CustomToggleBackground.Name = "CustomToggleBackground"
			CustomToggleBackground.Parent = CustomToggle
			CustomToggleBackground.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
			CustomToggleBackground.Position = UDim2.new(0.846153855, 0, 0.266666681, 0)
			CustomToggleBackground.Size = UDim2.new(0, 30, 0, 6)
			CustomToggleBackground.Font = Enum.Font.SourceSans
			CustomToggleBackground.Text = ""
			CustomToggleBackground.TextColor3 = Color3.fromRGB(255, 0, 0)
			CustomToggleBackground.TextSize = 14.000

			UICorner_2.Parent = CustomToggleBackground
		end
		return ButtonsONTab
	end
	
	return EpicLibrary
end

return library
